<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Bar Redo</title>
  <script type="text/javascript" src="d3/d3.js"></script>
  <style>
  </style>
</head>
  <body>

    <script>
    /* Implement a bar chart to compare the number of senior IE students in the five universities. The bar chart should have a proper title, axes, axis labels, and legends. (30 points)*/

    /*declare global variables*/

    var margin= {top:20, right: 20, left: 20, bottom: 150};
    var height = 600-margin.top - margin.bottom;
    var width = 600 - margin.right-margin.left;
    var sr;

    /*declares scale and axis */

    var xScale = d3.scale.ordinal()
        .rangeRoundBands([0, width]);

    var yScale = d3.scale.linear()
        .range([height,0]);

    var xAxis = d3.svg.axis()
        .scale(xScale)
        .orient("bottom");

    var yAxis = d3.svg.axis()
        .scale(yScale)
        .orient("left");
    /* creates canvas */

    var canvas = d3.select("body").append("svg")
        .attr("width", width +margin.left + margin.right)
        .attr("height", height + margin.top + margin.right)
      .append("g")
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");


    /*Get Data and call */
    d3.json("https://hivelab.org/static/exam1.json", function(error, data){
      console.log("Got Data");
      console.log(data[3]);
      senior = data[3];
      console.log(senior);

      senior = d3.entries(senior).filter(function(key){return key != "Year";});
      var goodbye = senior.shift();
      console.log(senior);

      xScale.domain(function(senior){return senior.key;});



  /*    yScale.domain(0,d3.max(function(senior){return senior.value;}));*/

      canvas.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate (0," + height + ")")
        .call (xAxis);

      canvas.selectAll("rect")
        .data(senior)
        .enter()
          .append("rect")
          .attr("width", function(d){ return 5})
          .attr("height", function(d) {return d.value})
          .attr("fill", "blue")
          .attr("stroke", "white");


      /*Axes*/
      /*Axis Labels*/
      /*Title*/
      /*Legend*/




    });
  /*References: http://bl.ocks.org/mbostock/3885304

  */
  /*    var Uni = Object.keys(senior).filter(
        function(d){
            return (d != "Year");
          }
        ).map(
            function(d) {
              return{
                "name" : d
              }
            }
        );*/
    </script>

  </body>

</html>
